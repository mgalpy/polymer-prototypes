<!doctype html>
<html>
<head>
    <title>Queensland Speech Survey</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" user-scalable="no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="icon" type="image/x-icon" href="../resources/images/favicon.ico">
    <script src="bower_components/webcomponentsjs/webcomponents.js"></script>
    <link rel="import" href="polymer-components.html">
    <link rel="import" href="bower_components/google-map/google-map.html">
    <link href="../resources/theme/styles.css" rel="stylesheet">
</head>

<body fullbleed unresolved>

    <core-drawer-panel responsiveWidth="1400px">

        <div drawer>
            <div vertical layout id="account">
                <div horizontal layout>
                    <div>
                        <a href="http://www.uq.edu.au" class="uq-link"><img src="https://app.library.uq.edu.au/images/uq_theme/uq.png" id="mini-logo"></a>
                        <a href="http://www.uq.edu.au"><img src="https://www.library.uq.edu.au/360Link/Current/uq-logo.svg" id="main-logo"></a>
                        <a class="uq-library-header-logo" href="https://www.library.uq.edu.au">Library</a>
                        <a class="uq-library-header-logo-mini" href="https://www.library.uq.edu.au">UQ Library</a>
                    </div>
                </div>
                <div flex></div>

            </div>

            <core-menu selectedAttribute="">
                <paper-item on-tap="{{togglePage}}">
                    <core-icon icon="home"></core-icon>Home</paper-item>

                <paper-item onclick="document.querySelector('#languages-facet').toggle();">
                    <core-icon icon="language"></core-icon>Languages</paper-item>
                <core-collapse id="languages-facet">
                    <div class="content">
                        <div>
                            <p>Language</p>
                            <p>Language</p>
                            <p>Language</p>
                            <p>Language</p>
                            <p>Language</p>
                            <p>...</p>
                        </div>
                    </div>
                </core-collapse>

                <paper-item onclick="document.querySelector('#interviewers-facet').toggle();">
                  <core-icon icon="av:artist"></core-icon>Interviewees</paper-item>
                <core-collapse id="interviewers-facet">
                  <div class="content">
                    <div>
                      <p>Interviewee</p>
                      <p>Interviewee</p>
                      <p>Interviewee</p>
                      <p>Interviewee</p>
                      <p>Interviewee</p>
                      <p>...</p>
                    </div>
                  </div>
                </core-collapse>

                <hr>

                <paper-item>
                    <core-icon icon="help"></core-icon>Help &amp; Feedback</paper-item>
                <paper-item>
                    <core-icon icon="info"></core-icon>About</paper-item>
            </core-menu>
        </div>

        <div main>
            <template is="auto-binding">
                <div id="clicker" on-tap="{{clickAction}}">
                    <core-toolbar>
                        <paper-icon-button icon="menu" core-drawer-toggle></paper-icon-button>
                        <div class="glow">
                            <a href="#" class="uq-header-links">Queensland Speech Survey</a>
                        </div>
                        <div flex>
                            <paper-input-decorator label="Search for a language or speaker" id="searchInput">
                                <input is="core-input">
                            </paper-input-decorator>
                        </div>
                        <paper-icon-button icon="search" id="search"></paper-icon-button>
                        <paper-icon-button icon="more-vert" id="more" class="responsive-menu-icon"></paper-icon-button>
                    </core-toolbar>
                </div>
            </template>
            <paper-tabs selected="0">
            <paper-tab>Map</paper-tab>
            <paper-tab>Languages</paper-tab>
            <paper-tab>Voices</paper-tab>
            <paper-tab>Search</paper-tab>
            </paper-tabs>

            <core-animated-pages selected="{{selected}}" transitions="slide-from-right">

              <core-drawer-panel id="marker-info" rightDrawer responsiveWidth="1200px" drawerWidth="480px">

                <div drawer>
                    <div vertical layout>
                        <div horizontal layout center-center>
                            <div>
                                <core-icon class="huge sidebar-header-icon" icon="language"></core-icon>
                            </div>
                            <div flex>
                                <h1 class="sidebar-header">Language: Alyawarr</h1>
                            </div>
                        </div>
                        <div>
                            <img src="../resources/images/list-sample.png" width="100%">
                        </div>
                        <div flex></div>
                        <div horizontal layout center-center>
                            <div>
                                <paper-icon-button class="huge" icon="av:play-circle-outline"></paper-icon-button>
                            </div>
                            <div flex>
                                <paper-slider></paper-slider>
                            </div>
                            <div>
                                <paper-icon-button icon="av:volume-down"></paper-icon-button>
                            </div>
                        </div>
                    </div>
                </div>

                <div main>
                  <google-map latitude="-20.2" longitude="156.2" disableDefaultUI zoom="6">

                    <google-map-marker latitude="-19.265433" longitude="146.816289" clickEvents></google-map-marker>
                    <google-map-marker latitude="-21.392335" longitude="145.101973" clickEvents></google-map-marker>

                  </google-map>
                </div>
              </core-drawer-panel>

            </core-animated-pages>
        </div>

    </core-drawer-panel>

    <script>
        function slideElements(name, type) {
          document.querySelector(name).classList.toggle(type);
        }

        function clickAction(e) {
          var t = e.target;
          if (t.localName === 'core-toolbar') {
            slideElements('#search', 'iconSlide');
            slideElements('#searchInput', 'slideIn');
          }

          if (t.localName === 'paper-icon-button') {
            if (t.id == "search") {
              slideElements('#search', 'iconSlide');
              slideElements('#searchInput', 'slideIn');
            } else if (t.id == "more") {
                document.querySelector('#marker-info').togglePanel();
            }
          }
        }

        addEventListener('template-bound', function (e) {
          e.target.clickAction = clickAction;
          slideElements('#search', 'iconSlide');
          slideElements('#searchInput', 'slideIn');
          document.querySelector('#marker-info').openDrawer();
        });

        addEventListener('google-map-marker-click', function (e) {
          document.querySelector('#marker-info').openDrawer();
        });

    </script>

</body>

</html>